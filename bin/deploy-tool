#!/usr/bin/perl -w

use strict;
use DeployTool;
use Getopt::Long;
use Class::Inspector;

use Data::Printer;

my %opts = ();

my $commands = Class::Inspector->methods( 'DeployTool', 'full', 'public');

my $cmd = shift @ARGV;
if (!grep { $_ =~ /::$cmd$/ } @$commands) {
    #TODO: print usage here
    die "Wrong action\n";
}

GetOptions(
    \%opts,
    'user=s',
    'password=s',
    'config=s',
    'war=s',
    'path=s',
    'hostname=s',
    'port=i',
    'ssl',
    'update',
);

DeployTool->_run_cmd($cmd, %opts);
